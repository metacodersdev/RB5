{"version":3,"file":"baseResourceModelTests.js","names":["suite","model","parentObject","beforeEach","RB","BaseResource","rspNamespace","links","foos","href","describe","spyOn","and","resolveTo","callThrough","it","set","ensureCreated","expect","ready","toHaveBeenCalled","fetch","not","save","loaded","id","done","console","success","warn","error","fail","Backbone","Model","prototype","callFake","options","_","isFunction","isNew","toBe","expectAsync","toBeRejectedWith","Error","rejectWith","BackboneError","errorText","self","rsp","a","b","c","$","request","d","get","undefined","stat","foo","method","contentType","call","sync","isEmpty","data","toJSON","responseData","type","apiCall","ajax","trigger","toHaveBeenCalledWith","err","message","url","attrs","processData","payloadFileKeys","file","myfield","boundary","blob","Blob","name","fileReader","FileReader","indexOf","onload","array","Uint8Array","result","i","length","push","String","fromCharCode","join","readAsArrayBuffer","blob1","blob2","file1","file2","form","append","ajaxSubmit","calls","argsFor","payloadFileKey","_saveWithFiles"],"sources":["../../../../../../../static/rb/js/resources/models/tests/baseResourceModelTests.es6.js"],"sourcesContent":["suite('rb/resources/models/BaseResource', function() {\n    let model;\n    let parentObject;\n\n    beforeEach(function() {\n        model = new RB.BaseResource();\n        model.rspNamespace = 'foo';\n\n        parentObject = new RB.BaseResource({\n            links: {\n                foos: {\n                    href: '/api/foos/',\n                },\n            },\n        });\n    });\n\n    describe('ensureCreated', function() {\n        beforeEach(function() {\n            spyOn(model, 'save').and.resolveTo();\n            spyOn(model, 'fetch').and.resolveTo();\n            spyOn(model, 'ready').and.callThrough();\n        });\n\n        it('With loaded=true', async function() {\n            model.set('loaded', true);\n\n            await model.ensureCreated();\n\n            expect(model.ready).toHaveBeenCalled();\n            expect(model.fetch).not.toHaveBeenCalled();\n            expect(model.save).not.toHaveBeenCalled();\n        });\n\n        it('With loaded=false, isNew=true', async function() {\n            model.set('loaded', false);\n\n            await model.ensureCreated();\n\n            expect(model.ready).toHaveBeenCalled();\n            expect(model.fetch).not.toHaveBeenCalled();\n            expect(model.save).toHaveBeenCalled();\n        });\n\n        it('With loaded=false, isNew=false', async function() {\n            model.set({\n                loaded: false,\n                id: 1,\n            });\n\n            await model.ensureCreated();\n\n            expect(model.ready).toHaveBeenCalled();\n            expect(model.fetch).toHaveBeenCalled();\n            expect(model.save).toHaveBeenCalled();\n        });\n\n        it('With callbacks', function(done) {\n            model.set({\n                loaded: false,\n                id: 1,\n            });\n            spyOn(console, 'warn');\n\n            model.ensureCreated({\n                success: () => {\n                    expect(model.ready).toHaveBeenCalled();\n                    expect(model.fetch).toHaveBeenCalled();\n                    expect(model.save).toHaveBeenCalled();\n                    expect(console.warn).toHaveBeenCalled();\n\n                    done();\n                },\n                error: () => done.fail(),\n            });\n        });\n    });\n\n    describe('fetch', function() {\n        describe('Basic functionality', function() {\n            beforeEach(function() {\n                spyOn(Backbone.Model.prototype, 'fetch')\n                    .and.callFake(options => {\n                        if (options && _.isFunction(options.success)) {\n                            options.success();\n                        }\n                    });\n            });\n\n            it('With isNew=true', async function() {\n                expect(model.isNew()).toBe(true);\n\n                await expectAsync(model.fetch()).toBeRejectedWith(Error(\n                    'fetch cannot be used on a resource without an ID'));\n                expect(Backbone.Model.prototype.fetch)\n                    .not.toHaveBeenCalled();\n            });\n\n            it('With isNew=false and no parentObject', async function() {\n                model.set('id', 123);\n\n                await model.fetch();\n                expect(Backbone.Model.prototype.fetch).toHaveBeenCalled();\n            });\n\n            it('With isNew=false and parentObject', async function() {\n                model.set({\n                    parentObject: parentObject,\n                    id: 123,\n                });\n\n                spyOn(parentObject, 'ready').and.resolveTo();\n\n                await model.fetch();\n\n                expect(parentObject.ready).toHaveBeenCalled();\n                expect(Backbone.Model.prototype.fetch).toHaveBeenCalled();\n            });\n\n            it('With isNew=false and parentObject with error', async function() {\n                model.set({\n                    parentObject: parentObject,\n                    id: 123,\n                });\n\n                spyOn(parentObject, 'ready').and.rejectWith(new BackboneError(\n                    parentObject,\n                    { errorText: 'Oh nosers.' },\n                    {}));\n\n                await expectAsync(model.fetch()).toBeRejectedWith(\n                    Error('Oh nosers.'));\n                expect(parentObject.ready).toHaveBeenCalled();\n                expect(Backbone.Model.prototype.fetch)\n                    .not.toHaveBeenCalled();\n            });\n\n            it('With callbacks', function(done) {\n                model.set({\n                    parentObject: parentObject,\n                    id: 123,\n                });\n\n                spyOn(parentObject, 'ready').and.resolveTo();\n                spyOn(console, 'warn');\n\n                model.fetch({\n                    success: () => {\n                        expect(parentObject.ready).toHaveBeenCalled();\n                        expect(Backbone.Model.prototype.fetch).toHaveBeenCalled();\n                        expect(console.warn).toHaveBeenCalled();\n\n                        done();\n                    },\n                    error: () => done.fail(),\n                });\n            });\n        });\n\n        describe('Response handling', function() {\n            beforeEach(function() {\n                model.set({\n                    id: 123,\n                    links: {\n                        self: {\n                            href: '/api/foo/',\n                        },\n                    },\n                });\n            });\n\n            it('Custom response parsing', async function() {\n                spyOn(model, 'parse').and.callFake(rsp => ({\n                    a: rsp.a + 1,\n                    b: rsp.b,\n                    c: true,\n                }));\n\n                spyOn($, 'ajax').and.callFake(request => {\n                    request.success({\n                        a: 10,\n                        b: 20,\n                        d: 30,\n                    });\n                });\n\n                await model.fetch();\n\n                expect(model.get('a')).toBe(11);\n                expect(model.get('b')).toBe(20);\n                expect(model.get('c')).toBe(true);\n                expect(model.get('d')).toBe(undefined);\n            });\n\n            it('Default response parsing', async function() {\n                spyOn(model, 'parse').and.callThrough();\n\n                spyOn($, 'ajax').and.callFake(request => {\n                    request.success({\n                        stat: 'ok',\n                        foo: {\n                            id: 42,\n                            links: {\n                                foo: {\n                                    href: 'bar',\n                                },\n                            },\n                            a: 20,\n                        },\n                    });\n                });\n\n                await model.fetch();\n\n                expect(model.get('a')).toBe(undefined);\n                expect(model.id).toBe(42);\n                expect(model.get('links').foo).not.toBe(undefined);\n                expect(model.get('loaded')).toBe(true);\n            });\n        });\n\n        describe('Request payload', function() {\n            beforeEach(function() {\n                model.set({\n                    id: 123,\n                    links: {\n                        self: {\n                            href: '/api/foo/',\n                        },\n                    },\n                });\n            });\n\n            describe('GET', function() {\n                it('No contentType sent', async function() {\n                    spyOn(Backbone, 'sync')\n                        .and.callFake((method, model, options) => {\n                            expect(options.contentType).toBe(undefined);\n                            options.success.call(model, {});\n                        });\n\n                    await model.fetch();\n\n                    expect(Backbone.sync).toHaveBeenCalled();\n                });\n\n                it('No model data sent', async function() {\n                    spyOn(Backbone, 'sync')\n                        .and.callFake((method, model, options) => {\n                            expect(_.isEmpty(options.data)).toBe(true);\n                            options.success.call(model, {});\n                        });\n\n                    model.toJSON = () => ({\n                        a: 1,\n                        b: 2,\n                    });\n\n                    await model.fetch();\n\n                    expect(Backbone.sync).toHaveBeenCalled();\n                });\n\n                it('Query attributes sent', async function() {\n                    spyOn(Backbone, 'sync')\n                        .and.callFake((method, model, options) => {\n                            expect(_.isEmpty(options.data)).toBe(false);\n                            expect(options.data.foo).toBe('bar');\n                            options.success.call(model, {});\n                        });\n\n                    model.toJSON = () => ({\n                        a: 1,\n                        b: 2,\n                    });\n\n                    await model.fetch({\n                        data: {\n                            foo: 'bar',\n                        },\n                    });\n\n                    expect(Backbone.sync).toHaveBeenCalled();\n                });\n            });\n        });\n    });\n\n    describe('ready', function() {\n        beforeEach(function() {\n            spyOn(model, 'fetch').and.resolveTo();\n        });\n\n        it('With loaded=true', async function() {\n            model.set('loaded', true);\n\n            await model.ready();\n\n            expect(model.fetch).not.toHaveBeenCalled();\n        });\n\n        it('With loaded=false and isNew=true', async function() {\n            model.set('loaded', false);\n            expect(model.isNew()).toBe(true);\n\n            await model.ready();\n            expect(model.fetch).not.toHaveBeenCalled();\n        });\n\n        it('With loaded=false and isNew=false', async function() {\n            model.set({\n                loaded: false,\n                id: 123,\n            });\n            expect(model.isNew()).toBe(false);\n\n            await model.ready();\n            expect(model.fetch).toHaveBeenCalled();\n        });\n\n        it('With callbacks', function(done) {\n            model.set({\n                loaded: false,\n                id: 123,\n            });\n            expect(model.isNew()).toBe(false);\n            spyOn(console, 'warn');\n\n            model.ready({\n                success: () => {\n                    expect(model.fetch).toHaveBeenCalled();\n                    expect(console.warn).toHaveBeenCalled();\n\n                    done();\n                },\n                error: () => done.fail(),\n            });\n        });\n    });\n\n    describe('save', function() {\n        beforeEach(function() {\n            /* This is needed for any ready() calls. */\n            spyOn(Backbone.Model.prototype, 'fetch')\n                .and.callFake(options => {\n                    if (options && _.isFunction(options.success)) {\n                        options.success();\n                    }\n                });\n            spyOn(model, 'trigger');\n        });\n\n        it('With isNew=true and parentObject', async function() {\n            const responseData = {\n                foo: {},\n                stat: 'ok',\n            };\n\n            spyOn(parentObject, 'ensureCreated').and.resolveTo();\n            spyOn(parentObject, 'ready').and.resolveTo();\n\n            spyOn(Backbone.Model.prototype, 'save').and.callThrough();\n\n            model.set('parentObject', parentObject);\n\n            spyOn(RB, 'apiCall').and.callThrough();\n            spyOn($, 'ajax').and.callFake(request => {\n                expect(request.type).toBe('POST');\n\n                request.success(responseData);\n            });\n\n            await model.save();\n\n            expect(Backbone.Model.prototype.save).toHaveBeenCalled();\n            expect(parentObject.ensureCreated).toHaveBeenCalled();\n            expect(RB.apiCall).toHaveBeenCalled();\n            expect($.ajax).toHaveBeenCalled();\n\n            expect(model.trigger).toHaveBeenCalledWith('saved', {});\n        });\n\n        it('With isNew=true and no parentObject', async function() {\n            spyOn(Backbone.Model.prototype, 'save').and.callThrough();\n            spyOn(RB, 'apiCall').and.callThrough();\n            spyOn($, 'ajax').and.callFake(function() {});\n\n            try {\n                await model.save();\n                done.fail();\n            } catch (err) {\n                expect(Backbone.Model.prototype.save)\n                    .not.toHaveBeenCalled();\n                expect(RB.apiCall).not.toHaveBeenCalled();\n                expect($.ajax).not.toHaveBeenCalled();\n\n                expect(err.message).toBe(\n                    'The object must either be loaded from the server ' +\n                    'or have a parent object before it can be saved');\n\n                expect(model.trigger).not.toHaveBeenCalledWith('saved', {});\n            }\n        });\n\n        it('With isNew=false and no parentObject', async function() {\n            model.set('id', 123);\n            model.url = '/api/foos/1/';\n\n            spyOn(Backbone.Model.prototype, 'save')\n                .and.callFake((attrs, options) => {\n                    if (options && _.isFunction(options.success)) {\n                        options.success();\n                    }\n                });\n\n            await model.save();\n            expect(Backbone.Model.prototype.save).toHaveBeenCalled();\n            expect(model.trigger).toHaveBeenCalledWith('saved', {});\n        });\n\n        it('With isNew=false and parentObject', async function() {\n            spyOn(parentObject, 'ensureCreated').and.resolveTo();\n            spyOn(Backbone.Model.prototype, 'save').and.callThrough();\n\n            model.set({\n                parentObject: parentObject,\n                id: 123,\n            });\n\n            spyOn(parentObject, 'ready').and.resolveTo();\n\n            spyOn(RB, 'apiCall').and.callThrough();\n            spyOn($, 'ajax').and.callFake(request => {\n                expect(request.type).toBe('PUT');\n\n                request.success({\n                    foo: {},\n                    stat: 'ok',\n                });\n            });\n\n            await model.save();\n\n            expect(parentObject.ready).toHaveBeenCalled();\n            expect(Backbone.Model.prototype.save).toHaveBeenCalled();\n            expect(RB.apiCall).toHaveBeenCalled();\n            expect($.ajax).toHaveBeenCalled();\n            expect(model.trigger).toHaveBeenCalledWith('saved', {});\n        });\n\n        it('With isNew=false and parentObject with error', async function() {\n            model.set({\n                parentObject: parentObject,\n                id: 123,\n            });\n\n            spyOn(parentObject, 'ready').and.rejectWith(new BackboneError(\n                parentObject,\n                { errorText: 'Oh nosers.' },\n                {}));\n\n            spyOn(Backbone.Model.prototype, 'save')\n                .and.callFake((attrs, options) => {\n                    if (options && _.isFunction(options.success)) {\n                        options.success();\n                    }\n                });\n\n            await expectAsync(model.save()).toBeRejectedWith(\n                Error('Oh nosers.'));\n\n            expect(parentObject.ready).toHaveBeenCalled();\n            expect(Backbone.Model.prototype.save)\n                .not.toHaveBeenCalled();\n            expect(model.trigger).not.toHaveBeenCalledWith('saved');\n        });\n\n        it('With callbacks', function(done) {\n            const responseData = {\n                foo: {},\n                stat: 'ok',\n            };\n\n            spyOn(parentObject, 'ensureCreated').and.resolveTo();\n            spyOn(parentObject, 'ready').and.resolveTo();\n\n            spyOn(Backbone.Model.prototype, 'save').and.callThrough();\n\n            model.set('parentObject', parentObject);\n\n            spyOn(RB, 'apiCall').and.callThrough();\n            spyOn($, 'ajax').and.callFake(request => {\n                expect(request.type).toBe('POST');\n\n                request.success(responseData);\n            });\n            spyOn(console, 'warn');\n\n            model.save({\n                success: () => {\n                    expect(Backbone.Model.prototype.save).toHaveBeenCalled();\n                    expect(parentObject.ensureCreated).toHaveBeenCalled();\n                    expect(RB.apiCall).toHaveBeenCalled();\n                    expect($.ajax).toHaveBeenCalled();\n\n                    expect(model.trigger).toHaveBeenCalledWith('saved', {});\n                    expect(console.warn).toHaveBeenCalled();\n\n                    done();\n                },\n                error: () => done.fail(),\n            });\n        });\n\n        describe('Request payload', function() {\n            it('Saved data', async function() {\n                model.set('id', 1);\n                model.url = '/api/foos/';\n\n                expect(model.isNew()).toBe(false);\n\n                spyOn(model, 'toJSON').and.callFake(() => ({\n                    a: 10,\n                    b: 20,\n                    c: 30,\n                }));\n\n                spyOn(model, 'ready').and.resolveTo();\n\n                spyOn(RB, 'apiCall').and.callThrough();\n                spyOn($, 'ajax').and.callFake(request => {\n                    expect(request.url).toBe(model.url);\n                    expect(request.contentType)\n                        .toBe('application/x-www-form-urlencoded');\n                    expect(request.processData).toBe(true);\n\n                    expect(request.data.a).toBe(10);\n                    expect(request.data.b).toBe(20);\n                    expect(request.data.c).toBe(30);\n\n                    request.success({\n                        stat: 'ok',\n                        foo: {\n                            id: 1,\n                            a: 10,\n                            b: 20,\n                            c: 30,\n                            links: {},\n                        },\n                    });\n                });\n\n                await model.save();\n\n                expect(model.toJSON).toHaveBeenCalled();\n                expect(RB.apiCall).toHaveBeenCalled();\n                expect($.ajax).toHaveBeenCalled();\n            });\n        });\n\n        describe('With file upload support', function() {\n            beforeEach(function() {\n                model.payloadFileKeys = ['file'];\n                model.url = '/api/foos/';\n                model.toJSON = function() {\n                    return {\n                        file: this.get('file'),\n                        myfield: 'myvalue',\n                    };\n                };\n\n                spyOn(Backbone.Model.prototype, 'save').and.callThrough();\n                spyOn(RB, 'apiCall').and.callThrough();\n            });\n\n            it('With file', async function() {\n                const boundary = '-----multipartformboundary';\n                const blob = new Blob(['Hello world!'], {\n                    type: 'text/plain',\n                });\n\n                blob.name = 'myfile';\n\n                spyOn($, 'ajax').and.callFake(request => {\n                    const fileReader = new FileReader();\n\n                    expect(request.type).toBe('POST');\n                    expect(request.processData).toBe(false);\n                    expect(request.contentType.indexOf(\n                        'multipart/form-data; boundary=')).toBe(0);\n\n                    fileReader.onload = function() {\n                        const array = new Uint8Array(this.result);\n                        const data = [];\n\n                        for (let i = 0; i < array.length; i++) {\n                            data.push(String.fromCharCode(array[i]));\n                        }\n\n                        expect(data.join('')).toBe(\n                            '--' + boundary + '\\r\\n' +\n                            'Content-Disposition: form-data; name=\"file\"' +\n                            '; filename=\"myfile\"\\r\\n' +\n                            'Content-Type: text/plain\\r\\n\\r\\n' +\n                            'Hello world!' +\n                            '\\r\\n' +\n                            '--' + boundary + '\\r\\n' +\n                            'Content-Disposition: form-data; ' +\n                            'name=\"myfield\"\\r\\n\\r\\n' +\n                            'myvalue\\r\\n' +\n                            '--' + boundary + '--\\r\\n\\r\\n');\n\n                        request.success({\n                            stat: 'ok',\n                            foo: {\n                                id: 42,\n                            },\n                        });\n                    };\n                    fileReader.readAsArrayBuffer(request.data);\n                });\n\n                model.set('file', blob);\n                await model.save({ boundary });\n\n                expect(Backbone.Model.prototype.save).toHaveBeenCalled();\n                expect(RB.apiCall).toHaveBeenCalled();\n                expect($.ajax).toHaveBeenCalled();\n            });\n\n            it('With multiple files', async function() {\n                const boundary = '-----multipartformboundary';\n\n                const blob1 = new Blob(['Hello world!'], {\n                    type: 'text/plain',\n                });\n                blob1.name = 'myfile1';\n\n                const blob2 = new Blob(['Goodbye world!'], {\n                    type: 'text/plain',\n                });\n                blob2.name = 'myfile2';\n\n                model.payloadFileKeys = ['file1', 'file2'];\n                model.toJSON = function() {\n                    return {\n                        file1: this.get('file1'),\n                        file2: this.get('file2'),\n                        myfield: 'myvalue',\n                    };\n                };\n\n                spyOn($, 'ajax').and.callFake(request => {\n                    const fileReader = new FileReader();\n\n                    expect(request.type).toBe('POST');\n                    expect(request.processData).toBe(false);\n                    expect(request.contentType.indexOf(\n                        'multipart/form-data; boundary=')).toBe(0);\n\n                    fileReader.onload = function() {\n                        const array = new Uint8Array(this.result);\n                        const data = [];\n\n                        for (let i = 0; i < array.length; i++) {\n                            data.push(String.fromCharCode(array[i]));\n                        }\n\n                        expect(data.join('')).toBe(\n                            '--' + boundary + '\\r\\n' +\n                            'Content-Disposition: form-data; name=\"file1\"' +\n                            '; filename=\"myfile1\"\\r\\n' +\n                            'Content-Type: text/plain\\r\\n\\r\\n' +\n                            'Hello world!' +\n                            '\\r\\n' +\n                            '--' + boundary + '\\r\\n' +\n                            'Content-Disposition: form-data; name=\"file2\"' +\n                            '; filename=\"myfile2\"\\r\\n' +\n                            'Content-Type: text/plain\\r\\n\\r\\n' +\n                            'Goodbye world!' +\n                            '\\r\\n' +\n                            '--' + boundary + '\\r\\n' +\n                            'Content-Disposition: form-data; ' +\n                            'name=\"myfield\"\\r\\n\\r\\n' +\n                            'myvalue\\r\\n' +\n                            '--' + boundary + '--\\r\\n\\r\\n');\n\n                        request.success({\n                            stat: 'ok',\n                            foo: {\n                                id: 42,\n                            },\n                        });\n                    };\n\n                    fileReader.readAsArrayBuffer(request.data);\n                });\n\n                model.set('file1', blob1);\n                model.set('file2', blob2);\n                await model.save({ boundary });\n\n                expect(Backbone.Model.prototype.save).toHaveBeenCalled();\n                expect(RB.apiCall).toHaveBeenCalled();\n                expect($.ajax).toHaveBeenCalled();\n            });\n\n            it('Without file', async function() {\n                spyOn($, 'ajax').and.callFake(request => {\n                    expect(request.type).toBe('POST');\n                    expect(request.processData).toBe(true);\n                    expect(request.contentType).toBe(\n                        'application/x-www-form-urlencoded');\n\n                    request.success({\n                        stat: 'ok',\n                        foo: {\n                            id: 42,\n                        },\n                    });\n                });\n\n                await model.save();\n\n                expect(Backbone.Model.prototype.save).toHaveBeenCalled();\n                expect(RB.apiCall).toHaveBeenCalled();\n                expect($.ajax).toHaveBeenCalled();\n            });\n        });\n\n        describe('With form upload support', function() {\n            beforeEach(function() {\n                model.url = '/api/foos/';\n            });\n\n            it('Overriding toJSON attributes', async function() {\n                const form = $('<form/>')\n                    .append($('<input name=\"foo\"/>'));\n\n                model.toJSON = () => ({\n                    myfield: 'myvalue',\n                });\n\n                spyOn(Backbone, 'sync').and.callThrough();\n                spyOn(RB, 'apiCall').and.callThrough();\n                spyOn($, 'ajax');\n                spyOn(form, 'ajaxSubmit').and.callFake(\n                    request => request.success({}));\n\n                await model.save({ form: form });\n\n                expect(RB.apiCall).toHaveBeenCalled();\n                expect(form.ajaxSubmit).toHaveBeenCalled();\n                expect($.ajax).not.toHaveBeenCalled();\n                expect(Backbone.sync.calls.argsFor(0)[2].data).toBe(null);\n                expect(RB.apiCall.calls.argsFor(0)[0].data).toBe(null);\n            });\n\n            it('Overriding file attributes', async function() {\n                const form = $('<form/>')\n                    .append($('<input name=\"foo\"/>'));\n\n                model.payloadFileKey = 'file';\n                    model.toJSON = function() {\n                    return {\n                        file: this.get('file'),\n                    };\n                };\n\n                spyOn(model, '_saveWithFiles').and.callThrough();\n                spyOn(Backbone, 'sync').and.callThrough();\n                spyOn(RB, 'apiCall').and.callThrough();\n                spyOn($, 'ajax');\n                spyOn(form, 'ajaxSubmit').and.callFake(\n                    request => request.success({}));\n\n                await model.save({ form: form });\n\n                expect(model._saveWithFiles).not.toHaveBeenCalled();\n                expect(RB.apiCall).toHaveBeenCalled();\n                expect(form.ajaxSubmit).toHaveBeenCalled();\n                expect($.ajax).not.toHaveBeenCalled();\n                expect(Backbone.sync.calls.argsFor(0)[2].data).toBe(null);\n                expect(RB.apiCall.calls.argsFor(0)[0].data).toBe(null);\n            });\n        });\n    });\n\n    describe('url', function() {\n        it('With self link', function() {\n            const url = '/api/base-resource/';\n\n            model.set('links', {\n                self: {\n                    href: url,\n                },\n            });\n\n            expect(model.url()).toBe(url);\n        });\n\n        it('With parentObject and model ID', function() {\n            model.set({\n                parentObject: parentObject,\n                id: 123,\n            });\n\n            expect(model.url()).toBe('/api/foos/123/');\n        });\n\n        it('With parentObject, no links', function() {\n            model.set('parentObject', parentObject);\n\n            expect(model.url()).toBe('/api/foos/');\n        });\n\n        it('With no parentObject, no links', function() {\n            expect(model.url()).toBe(null);\n        });\n    });\n});\n"],"mappings":"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"}