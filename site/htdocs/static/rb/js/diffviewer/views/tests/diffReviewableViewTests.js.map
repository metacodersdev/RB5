{"version":3,"file":"diffReviewableViewTests.js","names":["suite","diffTableTemplate","_","template","fileAlertHTMLTemplate","reviewRequest","$container","view","beforeEach","$","appendTo","$testsScratch","RB","ReviewRequest","afterEach","remove","describe","selector","$rows","DiffReviewableView","model","DiffReviewable","el","chunks","type","startRow","numRows","render","$el","_selector","find","$startRow","startCell","eq","cells","it","_onMouseOver","target","_onMouseDown","expect","hasClass","toBe","_$begin","_$end","_beginLineNum","_endLineNum","_lastSeenIndex","rowIndex","$prevRow","$nextRow","$laterRow","prevCell","_onMouseOut","relatedTarget","nextCell","spyOn","$row","cell","onClick","jasmine","createSpy","click","_onMouseUp","stopImmediatePropagation","preventDefault","createAndEditCommentBlock","not","toHaveBeenCalled","toHaveBeenCalledWith","$beginRow","$endRow","beginLineNum","endLineNum","endCell","xit","_$ghostCommentFlag","css","append","fileDiffID","revision","file","DiffFile","index","expandHeaderLines","and","resolveTo","getRenderedDiffFragment","options","calls","argsFor","chunkIndex","linesOfContext","undefined","done","join","on","$tbodies","length","_centered","_elements","size","insertAfter","clone","insertBefore","$collapseButton","expanded","expandedDiffFragmentHTML","$commentFlag","$commentFlags","diffFragmentHTML","serializedCommentBlocks","linenum","num_lines","comments","issue_opened","review_id","localdraft","text","comment_id","user","name","line","parents","attr","collapsedDiffFragmentHTML","html","n","fail","$toggleButton","fileAlertHTML","extraClass","$fileAlert","contentHTML","tHead","toHaveClass","addClass","$tbody","$children","toggleWhitespaceOnlyChunks","children","trigger","$whitespaceChunk","hide","is"],"sources":["../../../../../../../static/rb/js/diffviewer/views/tests/diffReviewableViewTests.es6.js"],"sourcesContent":["suite('rb/diffviewer/views/DiffReviewableView', function() {\n    const diffTableTemplate = _.template(dedent`\n        <table class=\"sidebyside\">\n         <thead>\n          <tr>\n           <th colspan=\"2\">\n            <a name=\"1\" class=\"file-anchor\"></a> my-file.txt\n           </th>\n          </tr>\n          <tr>\n           <th class=\"rev\">Revision 1</th>\n           <th class=\"rev\">Revision 2</th>\n          </tr>\n         </thead>\n         <% _.each(chunks, function(chunk, index) { %>\n          <% if (chunk.type === \"collapsed\") { %>\n           <tbody class=\"diff-header\">\n            <tr>\n             <th>\n              <a href=\"#\" class=\"diff-expand-btn tests-expand-above\"\n                 data-chunk-index=\"<%= index %>\"\n                 data-lines-of-context=\"20,0\"><img /></a>\n             </th>\n             <th colspan=\"3\">\n              <a href=\"#\" class=\"diff-expand-btn tests-expand-chunk\"\n                 data-chunk-index=\"<%= index %>\"><img /> Expand</a>\n             </th>\n            </tr>\n            <tr>\n             <th>\n              <a href=\"#\" class=\"diff-expand-btn tests-expand-below\"\n                 data-chunk-index=\"<%= index %>\"\n                 data-lines-of-context=\"0,20\"><img /></a>\n             </th>\n             <th colspan=\"3\">\n              <a href=\"#\" class=\"diff-expand-btn tests-expand-header\"\n                 data-chunk-index=\"<%= index %>\"\n                 data-lines-of-context=\"0,<%= chunk.expandHeaderLines %>\">\n               <img /> <code>Some Function</code>\n              </a>\n             </th>\n            </tr>\n           </tbody>\n          <% } else { %>\n           <tbody class=\"<%= chunk.type %>\n                         <% if (chunk.expanded) { %>loaded<% } %>\n                         <%= chunk.extraClass || \"\" %>\"\n                  id=\"chunk0.<%= index %>\">\n            <% for (var i = 0; i < chunk.numRows; i++) { %>\n             <tr line=\"<%= i + chunk.startRow %>\">\n              <th></th>\n              <td>\n               <% if (chunk.expanded && i === 0) { %>\n                <div class=\"collapse-floater\">\n                 <img class=\"diff-collapse-btn\"\n                      data-chunk-index=\"<%= index %>\"\n                      data-lines-of-context=\"0\" />\n                </div>\n               <% } %>\n              </td>\n              <th></th>\n              <td></td>\n             </tr>\n            <% } %>\n           </tbody>\n          <% } %>\n         <% }); %>\n        </table>\n    `);\n\n    const fileAlertHTMLTemplate = _.template(dedent`\n        <tbody class=\"rb-c-diff-file-notice\">\n         <tr>\n          <td colspan=\"4\">\n           <div class=\"rb-c-alert -is-warning\">\n            <div class=\"rb-c-alert__content\">\n             <%= contentHTML %>\n            </div>\n           </div>\n          </td>\n         </tr>\n        </tbody>\n    `);\n\n    let reviewRequest;\n    let $container;\n    let view;\n\n    beforeEach(function() {\n        $container = $('<div/>').appendTo($testsScratch);\n\n        reviewRequest = new RB.ReviewRequest();\n    });\n\n    afterEach(function() {\n        view.remove();\n    });\n\n    describe('CommentRowSelector', function() {\n        let selector;\n        let $rows;\n\n        beforeEach(function() {\n            view = new RB.DiffReviewableView({\n                model: new RB.DiffReviewable({\n                    reviewRequest: reviewRequest\n                }),\n                el: $(diffTableTemplate({\n                    chunks: [\n                        {\n                            type: 'equal',\n                            startRow: 1,\n                            numRows: 5,\n                        },\n                        {\n                            type: 'delete',\n                            startRow: 6,\n                            numRows: 10,\n                        }\n                    ]\n                }))\n            });\n            view.render().$el.appendTo($container);\n\n            selector = view._selector;\n            $rows = view.$el.find('tbody tr');\n        });\n\n        describe('Selecting range', function() {\n            let $startRow;\n            let startCell;\n\n            beforeEach(function() {\n                $startRow = $rows.eq(4);\n                startCell = $startRow[0].cells[0];\n            });\n\n            it('Beginning selection', function() {\n                selector._onMouseOver({\n                    target: startCell\n                });\n\n                selector._onMouseDown({\n                    target: startCell\n                });\n\n                expect($startRow.hasClass('selected')).toBe(true);\n                expect(selector._$begin[0]).toBe($startRow[0]);\n                expect(selector._$end[0]).toBe($startRow[0]);\n                expect(selector._beginLineNum).toBe(5);\n                expect(selector._endLineNum).toBe(5);\n                expect(selector._lastSeenIndex).toBe($startRow[0].rowIndex);\n            });\n\n            describe('Adding rows to selection', function() {\n                it('Above', function() {\n                    const $prevRow = $rows.eq(3);\n\n                    selector._onMouseOver({\n                        target: startCell\n                    });\n\n                    selector._onMouseDown({\n                        target: startCell\n                    });\n\n                    selector._onMouseOver({\n                        target: $prevRow[0].cells[0]\n                    });\n\n                    expect($startRow.hasClass('selected')).toBe(true);\n                    expect($prevRow.hasClass('selected')).toBe(true);\n                    expect(selector._$begin[0]).toBe($prevRow[0]);\n                    expect(selector._$end[0]).toBe($startRow[0]);\n                    expect(selector._beginLineNum).toBe(4);\n                    expect(selector._endLineNum).toBe(5);\n                    expect(selector._lastSeenIndex).toBe($prevRow[0].rowIndex);\n                });\n\n                it('Below', function() {\n                    const $nextRow = $rows.eq(5);\n\n                    selector._onMouseOver({\n                        target: startCell\n                    });\n\n                    selector._onMouseDown({\n                        target: startCell\n                    });\n\n                    selector._onMouseOver({\n                        target: $nextRow[0].cells[0]\n                    });\n\n                    expect($startRow.hasClass('selected')).toBe(true);\n                    expect($nextRow.hasClass('selected')).toBe(true);\n                    expect(selector._$begin[0]).toBe($startRow[0]);\n                    expect(selector._$end[0]).toBe($nextRow[0]);\n                    expect(selector._beginLineNum).toBe(5);\n                    expect(selector._endLineNum).toBe(6);\n                    expect(selector._lastSeenIndex).toBe($nextRow[0].rowIndex);\n                });\n\n                it('Rows inbetween two events', function() {\n                    const $laterRow = $rows.eq(7);\n\n                    selector._onMouseOver({\n                        target: startCell\n                    });\n\n                    selector._onMouseDown({\n                        target: startCell\n                    });\n\n                    selector._onMouseOver({\n                        target: $laterRow[0].cells[0]\n                    });\n\n                    expect($($rows[4]).hasClass('selected')).toBe(true);\n                    expect($($rows[5]).hasClass('selected')).toBe(true);\n                    expect($($rows[6]).hasClass('selected')).toBe(true);\n                    expect($($rows[7]).hasClass('selected')).toBe(true);\n                    expect(selector._$begin[0]).toBe($startRow[0]);\n                    expect(selector._$end[0]).toBe($laterRow[0]);\n                    expect(selector._beginLineNum).toBe(5);\n                    expect(selector._endLineNum).toBe(8);\n                    expect(selector._lastSeenIndex).toBe($laterRow[0].rowIndex);\n                });\n            });\n\n            describe('Removing rows from selection', function() {\n                it('Above', function() {\n                    const $prevRow = $rows.eq(3);\n                    const prevCell = $prevRow[0].cells[0];\n\n                    selector._onMouseOver({\n                        target: startCell\n                    });\n\n                    selector._onMouseDown({\n                        target: startCell\n                    });\n\n                    selector._onMouseOver({\n                        target: prevCell\n                    });\n\n                    selector._onMouseOut({\n                        relatedTarget: startCell,\n                        target: prevCell\n                    });\n\n                    selector._onMouseOver({\n                        target: startCell\n                    });\n\n                    expect($startRow.hasClass('selected')).toBe(true);\n                    expect($prevRow.hasClass('selected')).toBe(false);\n                    expect(selector._$begin[0]).toBe($startRow[0]);\n                    expect(selector._$end[0]).toBe($startRow[0]);\n                    expect(selector._beginLineNum).toBe(5);\n                    expect(selector._endLineNum).toBe(5);\n                    expect(selector._lastSeenIndex).toBe($startRow[0].rowIndex);\n                });\n\n                it('Below', function() {\n                    const $nextRow = $rows.eq(5);\n                    const nextCell = $nextRow[0].cells[0];\n\n                    selector._onMouseOver({\n                        target: startCell\n                    });\n\n                    selector._onMouseDown({\n                        target: startCell\n                    });\n\n                    selector._onMouseOver({\n                        target: nextCell\n                    });\n\n                    selector._onMouseOut({\n                        relatedTarget: startCell,\n                        target: nextCell\n                    });\n\n                    selector._onMouseOver({\n                        target: startCell\n                    });\n\n                    expect($startRow.hasClass('selected')).toBe(true);\n                    expect($nextRow.hasClass('selected')).toBe(false);\n                    expect(selector._$begin[0]).toBe($startRow[0]);\n                    expect(selector._$end[0]).toBe($startRow[0]);\n                    expect(selector._beginLineNum).toBe(5);\n                    expect(selector._endLineNum).toBe(5);\n                    expect(selector._lastSeenIndex).toBe($startRow[0].rowIndex);\n                });\n            });\n\n            describe('Finishing selection', function() {\n                beforeEach(function() {\n                    spyOn(view, 'createAndEditCommentBlock');\n                });\n\n                describe('With single line', function() {\n                    let $row;\n                    let cell;\n\n                    beforeEach(function() {\n                        $row = $($rows[4]);\n                        cell = $row[0].cells[0];\n                    });\n\n                    it('And existing comment', function() {\n                        var onClick = jasmine.createSpy('onClick');\n\n                        $('<a class=\"commentflag\" />')\n                            .click(onClick)\n                            .appendTo(cell);\n\n                        selector._onMouseOver({\n                            target: cell\n                        });\n\n                        selector._onMouseDown({\n                            target: cell\n                        });\n\n                        selector._onMouseUp({\n                            target: cell,\n                            stopImmediatePropagation: function() {},\n                            preventDefault: function() {}\n                        });\n\n                        expect(view.createAndEditCommentBlock)\n                            .not.toHaveBeenCalled();\n                        expect(onClick).toHaveBeenCalled();\n\n                        expect($row.hasClass('selected')).toBe(false);\n                        expect(selector._$begin).toBe(null);\n                        expect(selector._$end).toBe(null);\n                        expect(selector._beginLineNum).toBe(0);\n                        expect(selector._endLineNum).toBe(0);\n                        expect(selector._lastSeenIndex).toBe(0);\n                    });\n\n                    it('And no existing comment', function() {\n                        selector._onMouseOver({\n                            target: cell\n                        });\n\n                        selector._onMouseDown({\n                            target: cell\n                        });\n\n                        selector._onMouseUp({\n                            target: cell,\n                            stopImmediatePropagation: function() {},\n                            preventDefault: function() {}\n                        });\n\n                        expect(view.createAndEditCommentBlock)\n                            .toHaveBeenCalledWith({\n                                $beginRow: $row,\n                                $endRow: $row,\n                                beginLineNum: 5,\n                                endLineNum: 5\n                            });\n\n                        expect($row.hasClass('selected')).toBe(false);\n                        expect(selector._$begin).toBe(null);\n                        expect(selector._$end).toBe(null);\n                        expect(selector._beginLineNum).toBe(0);\n                        expect(selector._endLineNum).toBe(0);\n                        expect(selector._lastSeenIndex).toBe(0);\n                    });\n                });\n\n                describe('With multiple lines', function() {\n                    let $startRow;\n                    let $endRow;\n                    let startCell;\n                    let endCell;\n\n                    beforeEach(function() {\n                        $startRow = $rows.eq(4);\n                        $endRow = $rows.eq(5);\n                        startCell = $startRow[0].cells[0];\n                        endCell = $endRow[0].cells[0];\n                    });\n\n                    xit('And existing comment', function() {\n                        const onClick = jasmine.createSpy('onClick');\n\n                        $('<a class=\"commentflag\" />')\n                            .click(onClick)\n                            .appendTo(startCell);\n\n                        selector._onMouseOver({\n                            target: startCell\n                        });\n\n                        selector._onMouseDown({\n                            target: startCell\n                        });\n\n                        selector._onMouseOver({\n                            target: endCell\n                        });\n\n                        expect(selector._$begin[0]).toBe($startRow[0]);\n                        expect(selector._$end[0]).toBe($endRow[0]);\n\n                        /* Copy these so we can directly compare. */\n                        $startRow = selector._$begin;\n                        $endRow = selector._$end;\n\n                        selector._onMouseUp({\n                            target: endCell,\n                            stopImmediatePropagation: function() {},\n                            preventDefault: function() {}\n                        });\n\n                        expect(view.createAndEditCommentBlock)\n                            .toHaveBeenCalledWith({\n                                $beginRow: $startRow,\n                                $endRow: $endRow,\n                                beginLineNum: 5,\n                                endLineNum: 6\n                            });\n\n                        expect(onClick).not.toHaveBeenCalled();\n                        expect($startRow.hasClass('selected')).toBe(false);\n                        expect($endRow.hasClass('selected')).toBe(false);\n                        expect(selector._$begin).toBe(null);\n                        expect(selector._$end).toBe(null);\n                        expect(selector._beginLineNum).toBe(0);\n                        expect(selector._endLineNum).toBe(0);\n                        expect(selector._lastSeenIndex).toBe(0);\n                    });\n\n                    it('And no existing comment', function() {\n                        selector._onMouseOver({\n                            target: startCell\n                        });\n\n                        selector._onMouseDown({\n                            target: startCell\n                        });\n\n                        selector._onMouseOver({\n                            target: endCell\n                        });\n\n                        expect(selector._$begin[0]).toBe($startRow[0]);\n                        expect(selector._$end[0]).toBe($endRow[0]);\n\n                        /* Copy these so we can directly compare. */\n                        $startRow = selector._$begin;\n                        $endRow = selector._$end;\n\n                        selector._onMouseUp({\n                            target: endCell,\n                            stopImmediatePropagation: function() {},\n                            preventDefault: function() {}\n                        });\n\n                        expect(view.createAndEditCommentBlock)\n                            .toHaveBeenCalledWith({\n                                $beginRow: $startRow,\n                                $endRow: $endRow,\n                                beginLineNum: 5,\n                                endLineNum: 6\n                            });\n\n                        expect($startRow.hasClass('selected')).toBe(false);\n                        expect($endRow.hasClass('selected')).toBe(false);\n                        expect(selector._$begin).toBe(null);\n                        expect(selector._$end).toBe(null);\n                        expect(selector._beginLineNum).toBe(0);\n                        expect(selector._endLineNum).toBe(0);\n                        expect(selector._lastSeenIndex).toBe(0);\n                    });\n                });\n            });\n        });\n\n        describe('Hovering', function() {\n            describe('Over line', function() {\n                let $row;\n                let cell;\n\n                beforeEach(function() {\n                    $row = $rows.eq(4);\n                });\n\n                it('Contents cell', function() {\n                    cell = $row[0].cells[1];\n\n                    selector._onMouseOver({\n                        target: cell\n                    });\n\n                    expect($row.hasClass('selected')).toBe(false);\n                    expect(selector._$ghostCommentFlag.css('display'))\n                        .toBe('none');\n                });\n\n                describe('Line number cell', function() {\n                    beforeEach(function() {\n                        cell = $row[0].cells[0];\n                    });\n\n                    it('With existing comment on row', function() {\n                        $(cell).append('<a class=\"commentflag\" />');\n                        selector._onMouseOver({\n                            target: cell\n                        });\n\n                        expect($row.hasClass('selected')).toBe(true);\n                        expect(selector._$ghostCommentFlag.css('display'))\n                            .toBe('none');\n                    });\n\n                    it('With no column flag', function() {\n                        selector._onMouseOver({\n                            target: cell\n                        });\n\n                        expect($row.hasClass('selected')).toBe(true);\n                        expect(selector._$ghostCommentFlag.css('display'))\n                            .not.toBe('none');\n                    });\n                });\n            });\n\n            describe('Out of line', function() {\n                it('Contents cell', function() {\n                    var $row = $rows.eq(0);\n\n                    selector._onMouseOver({\n                        target: $row[0].cells[0]\n                    });\n\n                    expect(selector._$ghostCommentFlag.css('display'))\n                        .not.toBe('none');\n\n                    selector._onMouseOut({\n                        target: $row[0].cells[0]\n                    });\n\n                    expect(selector._$ghostCommentFlag.css('display'))\n                        .toBe('none');\n                });\n\n                it('Line number cell', function() {\n                    var $row = $rows.eq(0);\n\n                    selector._onMouseOver({\n                        target: $row[0].cells[0]\n                    });\n\n                    expect(selector._$ghostCommentFlag.css('display'))\n                        .not.toBe('none');\n                    expect($row.hasClass('selected')).toBe(true);\n\n                    selector._onMouseOut({\n                        target: $row[0].cells[0]\n                    });\n\n                    expect(selector._$ghostCommentFlag.css('display'))\n                        .toBe('none');\n                    expect($row.hasClass('selected')).toBe(false);\n                });\n            });\n        });\n    });\n\n    describe('Incremental expansion', function() {\n        let model;\n\n        beforeEach(function() {\n            model = new RB.DiffReviewable({\n                reviewRequest: reviewRequest,\n                fileDiffID: 10,\n                revision: 1,\n                file: new RB.DiffFile({\n                    index: 1\n                })\n            });\n        });\n\n        describe('Expanding', function() {\n            beforeEach(function() {\n                view = new RB.DiffReviewableView({\n                    model: model,\n                    el: $(diffTableTemplate({\n                        chunks: [\n                            {\n                                type: 'equal',\n                                startRow: 1,\n                                numRows: 5,\n                            },\n                            {\n                                type: 'collapsed',\n                                expandHeaderLines: 7,\n                            },\n                            {\n                                type: 'delete',\n                                startRow: 10,\n                                numRows: 5,\n                            }\n                        ]\n                    }))\n                });\n                view.render().$el.appendTo($container);\n            });\n\n            describe('Fetching fragment', function() {\n                beforeEach(function() {\n                    spyOn(model, 'getRenderedDiffFragment')\n                        .and.resolveTo('abc');\n                });\n\n                it('Full chunk', function() {\n                    view.$('.tests-expand-chunk').click();\n\n                    expect(model.getRenderedDiffFragment).toHaveBeenCalled();\n\n                    const options = model\n                        .getRenderedDiffFragment\n                        .calls\n                        .argsFor(0)[0];\n                    expect(options.chunkIndex).toBe(1);\n                    expect(options.linesOfContext).toBe(undefined);\n                });\n\n                it('+20 above', function() {\n                    view.$('.tests-expand-above').click();\n\n                    expect(model.getRenderedDiffFragment).toHaveBeenCalled();\n\n                    const options = model\n                        .getRenderedDiffFragment\n                        .calls\n                        .argsFor(0)[0];\n                    expect(options.chunkIndex).toBe(1);\n                    expect(options.linesOfContext).toBe('20,0');\n                });\n\n                it('+20 below', function() {\n                    view.$('.tests-expand-below').click();\n\n                    expect(model.getRenderedDiffFragment).toHaveBeenCalled();\n\n                    const options = model\n                        .getRenderedDiffFragment\n                        .calls\n                        .argsFor(0)[0];\n                    expect(options.chunkIndex).toBe(1);\n                    expect(options.linesOfContext).toBe('0,20');\n                });\n\n                it('Function/class', function() {\n                    view.$('.tests-expand-header').click();\n\n                    expect(model.getRenderedDiffFragment).toHaveBeenCalled();\n\n                    const options = model\n                        .getRenderedDiffFragment\n                        .calls\n                        .argsFor(0)[0];\n                    expect(options.chunkIndex).toBe(1);\n                    expect(options.linesOfContext).toBe('0,7');\n                });\n            });\n\n            describe('Injecting HTML', function() {\n                it('Whole chunk', function(done) {\n                    spyOn(model, 'getRenderedDiffFragment')\n                        .and.resolveTo([\n                            '<tbody class=\"equal tests-new-chunk\">',\n                            ' <tr line=\"6\">',\n                            '  <th></th>',\n                            '  <td>',\n                            '   <div class=\"collapse-floater\">',\n                            '    <img class=\"diff-collapse-btn\"',\n                            '         data-chunk-index=\"1\"',\n                            '         data-lines-of-context=\"0\" />',\n                            '   </div>',\n                            '  </td>',\n                            '  <th></th>',\n                            '  <td></td>',\n                            ' </tr>',\n                            '</tbody>'\n                        ].join(''));\n                    view.on('chunkExpansionChanged', () => {\n                        expect(model.getRenderedDiffFragment).toHaveBeenCalled();\n\n                        const $tbodies = view.$('tbody');\n                        expect($tbodies.length).toBe(3);\n                        expect($($tbodies[0]).hasClass('equal')).toBe(true);\n                        expect($($tbodies[1]).hasClass('equal')).toBe(true);\n                        expect($($tbodies[1]).hasClass('tests-new-chunk'))\n                            .toBe(true);\n                        expect($($tbodies[2]).hasClass('delete')).toBe(true);\n                        expect(view._centered._elements.size).toBe(1);\n\n                        done();\n                    });\n\n                    view.$('.tests-expand-chunk').click();\n                });\n\n                it('Merging adjacent expanded chunks', function(done) {\n                    spyOn(model, 'getRenderedDiffFragment')\n                        .and.resolveTo([\n                            '<tbody class=\"equal tests-new-chunk\">',\n                            ' <tr line=\"6\">',\n                            '  <th></th>',\n                            '  <td>',\n                            '   <div class=\"collapse-floater\">',\n                            '    <img class=\"diff-collapse-btn\"',\n                            '         data-chunk-index=\"1\"',\n                            '         data-lines-of-context=\"0\" />',\n                            '   </div>',\n                            '  </td>',\n                            '  <th></th>',\n                            '  <td></td>',\n                            ' </tr>',\n                            '</tbody>'\n                        ].join(''));\n                    view.on('chunkExpansionChanged', () => {\n                        expect(model.getRenderedDiffFragment).toHaveBeenCalled();\n\n                        const $tbodies = view.$('tbody');\n                        expect($tbodies.length).toBe(3);\n                        expect($($tbodies[0]).hasClass('equal')).toBe(true);\n                        expect($($tbodies[1]).hasClass('equal')).toBe(true);\n                        expect($($tbodies[1]).hasClass('tests-new-chunk'))\n                            .toBe(true);\n                        expect($($tbodies[2]).hasClass('delete')).toBe(true);\n                        expect(view._centered._elements.size).toBe(1);\n\n                        done();\n                    });\n\n                    /*\n                     * Simulate having a couple nearby partially expanded\n                     * chunks. These should end up being removed when\n                     * expanding the chunk.\n                     */\n                    $('<tbody class=\"equal loaded\"/>')\n                        .append($('<img class=\"diff-collapse-btn\" />'))\n                        .insertAfter(view.$('tbody')[1])\n                        .clone().insertBefore(view.$('tbody')[1]);\n\n                    expect(view.$('tbody').length).toBe(5);\n\n                    view.$('.tests-expand-chunk').click();\n                });\n            });\n        });\n\n        describe('Collapsing', function() {\n            let $collapseButton;\n\n            beforeEach(function() {\n                view = new RB.DiffReviewableView({\n                    model: model,\n                    el: $(diffTableTemplate({\n                        chunks: [\n                            {\n                                type: 'equal',\n                                startRow: 1,\n                                numRows: 5\n                            },\n                            {\n                                type: 'equal',\n                                expanded: true,\n                                startRow: 6,\n                                numRows: 2\n                            },\n                            {\n                                type: 'delete',\n                                startRow: 10,\n                                numRows: 5\n                            }\n                        ]\n                    }))\n                });\n                view.render().$el.appendTo($container);\n\n                $collapseButton = view.$('.diff-collapse-btn');\n            });\n\n            it('Fetching fragment', function(done) {\n                spyOn(model, 'getRenderedDiffFragment')\n                    .and.resolveTo('abc');\n\n                view.on('chunkExpansionChanged', () => {\n                    expect(model.getRenderedDiffFragment).toHaveBeenCalled();\n\n                    const options = model\n                        .getRenderedDiffFragment\n                        .calls\n                        .argsFor(0)[0];\n                    expect(options.chunkIndex).toBe(1);\n                    expect(options.linesOfContext).toBe(0);\n\n                    done();\n                });\n\n                $collapseButton.click();\n            });\n\n            describe('Injecting HTML', function() {\n                it('Single expanded chunk', function(done) {\n                    spyOn(model, 'getRenderedDiffFragment')\n                        .and.resolveTo([\n                            '<tbody class=\"equal tests-new-chunk\">',\n                            ' <tr line=\"6\">',\n                            '  <th></th>',\n                            '  <td></td>',\n                            '  <th></th>',\n                            '  <td></td>',\n                            ' </tr>',\n                            '</tbody>'\n                        ].join(''));\n                    view.on('chunkExpansionChanged', () => {\n                        expect(model.getRenderedDiffFragment).toHaveBeenCalled();\n\n                        const $tbodies = view.$('tbody');\n                        expect($tbodies.length).toBe(3);\n                        expect($($tbodies[0]).hasClass('equal')).toBe(true);\n                        expect($($tbodies[1]).hasClass('equal')).toBe(true);\n                        expect($($tbodies[1]).hasClass('tests-new-chunk'))\n                            .toBe(true);\n                        expect($($tbodies[2]).hasClass('delete')).toBe(true);\n                        expect(view._centered._elements.size).toBe(0);\n\n                        done();\n                    });\n\n                    $collapseButton.click();\n                });\n\n                it('Merging adjacent expanded chunks', function(done) {\n                    var $tbodies;\n\n                    spyOn(model, 'getRenderedDiffFragment')\n                        .and.resolveTo([\n                            '<tbody class=\"equal tests-new-chunk\">',\n                            ' <tr line=\"6\">',\n                            '  <th></th>',\n                            '  <td></td>',\n                            '  <th></th>',\n                            '  <td></td>',\n                            ' </tr>',\n                            '</tbody>'\n                        ].join(''));\n                    view.on('chunkExpansionChanged', () => {\n                        expect(model.getRenderedDiffFragment).toHaveBeenCalled();\n\n                        $tbodies = view.$('tbody');\n                        expect($tbodies.length).toBe(3);\n                        expect($($tbodies[0]).hasClass('equal')).toBe(true);\n                        expect($($tbodies[1]).hasClass('equal')).toBe(true);\n                        expect($($tbodies[1]).hasClass('tests-new-chunk'))\n                            .toBe(true);\n                        expect($($tbodies[2]).hasClass('delete')).toBe(true);\n                        expect(view._centered._elements.size).toBe(0);\n\n                        done();\n                    });\n\n                    /*\n                     * Simulate having a couple nearby partially expanded\n                     * chunks. These should end up being removed when\n                     * expanding the chunk.\n                     */\n                    $('<tbody class=\"equal loaded\"/>')\n                        .append($('<img class=\"diff-collapse-btn\" />'))\n                        .insertAfter(view.$('tbody')[1])\n                        .clone().insertBefore(view.$('tbody')[1]);\n\n                    $collapseButton.click();\n                });\n            });\n        });\n    });\n\n    describe('Comment flags', function() {\n        describe('Placing visible comments', function() {\n            const expandedDiffFragmentHTML = dedent`\n                <tbody class=\"equal tests-new-chunk\">\n                 <tr line=\"11\">\n                  <th></th>\n                  <td>\n                   <div class=\"collapse-floater\">\n                    <img class=\"diff-collapse-btn\"\n                         data-chunk-index=\"1\"\n                         data-lines-of-context=\"0\" />\n                   </div>\n                  </td>\n                  <th></th>\n                  <td></td>\n                 </tr>\n                </tbody>\n                `;\n            let $commentFlag;\n            let $commentFlags;\n            let $rows;\n            let diffFragmentHTML;\n\n            beforeEach(function() {\n                view = new RB.DiffReviewableView({\n                    model: new RB.DiffReviewable({\n                        reviewRequest: reviewRequest,\n                        serializedCommentBlocks: [\n                            {\n                                linenum: 2,\n                                num_lines: 2,\n                                comments: [{\n                                    issue_opened: false,\n                                    review_id: 1,\n                                    localdraft: false,\n                                    text: 'Comment 1',\n                                    comment_id: 1,\n                                    user: { name: 'testuser' },\n                                    line: 2\n                                }]\n                            },\n                            {\n                                linenum: 4,\n                                num_lines: 1,\n                                comments: [\n                                    {\n                                        issue_opened: false,\n                                        review_id: 1,\n                                        localdraft: false,\n                                        text: 'Comment 2',\n                                        comment_id: 1,\n                                        user: { name: 'testuser' },\n                                        line: 4\n                                    },\n                                    {\n                                        issue_opened: false,\n                                        review_id: 1,\n                                        localdraft: false,\n                                        text: 'Comment 3',\n                                        comment_id: 1,\n                                        user: { name: 'testuser' },\n                                        line: 4\n                                    }\n                                ]\n                            },\n                            {\n                                /* This is in the collapsed area. */\n                                linenum: 11,\n                                num_lines: 1,\n                                comments: [{\n                                    issue_opened: false,\n                                    review_id: 1,\n                                    localdraft: false,\n                                    text: 'Comment 4',\n                                    comment_id: 1,\n                                    user: { name: 'testuser' },\n                                    line: 12\n                                }]\n                            }\n                        ]\n                    }),\n                    el: $(diffTableTemplate({\n                        chunks: [\n                            {\n                                type: 'insert',\n                                startRow: 1,\n                                numRows: 10\n                            },\n                            {\n                                type: 'collapsed',\n                                expandHeaderLines: 7\n                            }\n                        ]\n                    }))\n                });\n                view.render().$el.appendTo($container);\n\n                diffFragmentHTML = expandedDiffFragmentHTML;\n\n                spyOn(view.model, 'getRenderedDiffFragment')\n                    .and.resolveTo(diffFragmentHTML);\n\n                $commentFlags = view.$('.commentflag');\n                $rows = view.$el.find('tbody tr');\n            });\n\n            it('On initial render', function() {\n                expect($commentFlags.length).toBe(2);\n                expect($($commentFlags[0]).find('.commentflag-count').text())\n                    .toBe('1');\n                expect($($commentFlags[1]).find('.commentflag-count').text())\n                    .toBe('2');\n\n                $commentFlag = $($rows[1]).find('.commentflag');\n                expect($commentFlag.length).toBe(1);\n                expect($commentFlag[0]).toBe($commentFlags[0]);\n                expect($commentFlag.parents('tr').attr('line')).toBe('2');\n\n                $commentFlag = $($rows[3]).find('.commentflag');\n                expect($commentFlag.length).toBe(1);\n                expect($commentFlag[0]).toBe($commentFlags[1]);\n                expect($commentFlag.parents('tr').attr('line')).toBe('4');\n            });\n\n            it('On chunk expand', function(done) {\n                expect($commentFlags.length).toBe(2);\n\n                view.on('chunkExpansionChanged', () => {\n                    $commentFlags = view.$('.commentflag');\n                    $rows = view.$el.find('tbody tr');\n\n                    expect($commentFlags.length).toBe(3);\n                    expect($($commentFlags[2]).find('.commentflag-count').text())\n                        .toBe('1');\n\n                    $commentFlag = $($rows[10]).find('.commentflag');\n                    expect($commentFlag.length).toBe(1);\n                    expect($commentFlag[0]).toBe($commentFlags[2]);\n                    expect($commentFlag.parents('tr').attr('line')).toBe('11');\n\n                    done();\n                });\n\n                view.$('.tests-expand-chunk').click();\n            });\n\n            it('On chunk re-expand (after collapsing)', function() {\n                const collapsedDiffFragmentHTML = [\n                    '<tbody class=\"diff-header\">',\n                    $(view.$('tbody')[1]).html(),\n                    '</tbody>'\n                ].join('');\n\n                expect($commentFlags.length).toBe(2);\n\n                let n = 0;\n\n                view.on('chunkExpansionChanged', () => {\n                    n++;\n\n                    if (n === 1) {\n                        expect(view.$('.commentflag').length).toBe(3);\n\n                        diffFragmentHTML = collapsedDiffFragmentHTML;\n\n                        view.$('.diff-collapse-btn').click();\n                    } else if (n === 2) {\n                        view.$('.tests-expand-chunk').click();\n                        expect(view.$('.commentflag').length).toBe(2);\n\n                        diffFragmentHTML = expandedDiffFragmentHTML;\n                        view.$('.tests-expand-chunk').click();\n                        expect(view.$('.commentflag').length).toBe(3);\n\n                        $commentFlags = view.$('.commentflag');\n                        $rows = view.$el.find('tbody tr');\n\n                        expect($commentFlags.length).toBe(3);\n                        expect($($commentFlags[2]).find('.commentflag-count').text())\n                            .toBe('1');\n\n                        $commentFlag = $($rows[10]).find('.commentflag');\n                        expect($commentFlag.length).toBe(1);\n                        expect($commentFlag[0]).toBe($commentFlags[2]);\n                        expect($commentFlag.parents('tr').attr('line')).toBe('11');\n\n                        done();\n                    } else {\n                        done.fail();\n                    }\n                });\n            });\n        });\n    });\n\n    describe('Events', function() {\n        describe('Toggle Displayed Unicode Characters', function() {\n            let $toggleButton;\n\n            beforeEach(function() {\n                view = new RB.DiffReviewableView({\n                    model: new RB.DiffReviewable({\n                        reviewRequest: reviewRequest\n                    }),\n                    el: $(diffTableTemplate({\n                        fileAlertHTML: dedent`\n                        `,\n                        chunks: [\n                            {\n                                type: 'replace',\n                                startRow: 1,\n                                numRows: 5,\n                                extraClass: 'whitespace-chunk'\n                            }\n                        ]\n                    }))\n                });\n\n                const $el = view.render().$el;\n                const $fileAlert = $(fileAlertHTMLTemplate({\n                    contentHTML: dedent`\n                        <button class=\"rb-o-toggle-ducs\"\n                                data-hide-chars-label=\"Hide chars\"\n                                data-show-chars-label=\"Show chars\" />\n                    `,\n                }));\n\n                $fileAlert.insertBefore($el[0].tHead);\n                $el.appendTo($container);\n\n                $toggleButton = view.$('.rb-o-toggle-ducs');\n                expect($toggleButton.length).toBe(1);\n            });\n\n            it('Show Displayed Unicode Characters', function() {\n                $toggleButton\n                    .text('Hide chars')\n                    .click();\n\n                expect(view.el).toHaveClass('-hide-ducs');\n                expect($toggleButton.text()).toBe('Show chars');\n            });\n\n            it('Hide Displayed Unicode Characters', function() {\n                view.$el.addClass('-hide-ducs');\n\n                $toggleButton\n                    .text('Show chars')\n                    .click();\n\n                expect(view.el).not.toHaveClass('-hide-ducs');\n                expect($toggleButton.text()).toBe('Hide chars');\n            });\n        });\n    });\n\n    describe('Methods', function() {\n        describe('toggleWhitespaceOnlyChunks', function() {\n            beforeEach(function() {\n                view = new RB.DiffReviewableView({\n                    model: new RB.DiffReviewable({\n                        reviewRequest: reviewRequest\n                    }),\n                    el: $(diffTableTemplate({\n                        chunks: [\n                            {\n                                type: 'replace',\n                                startRow: 1,\n                                numRows: 5,\n                                extraClass: 'whitespace-chunk'\n                            }\n                        ]\n                    }))\n                });\n                view.render().$el.appendTo($container);\n            });\n\n            describe('Toggle on', function() {\n                it('Chunk classes', function() {\n                    let $tbodies;\n                    let $tbody;\n                    let $children;\n\n                    view.toggleWhitespaceOnlyChunks();\n\n                    $tbodies = view.$('tbody');\n                    $tbody = $($tbodies[0]);\n                    $children = $tbody.children();\n\n                    expect($tbody.hasClass('replace')).toBe(false);\n                    expect($($children[0]).hasClass('first')).toBe(true);\n                    expect($($children[$children.length - 1]).hasClass('last'))\n                        .toBe(true);\n                });\n\n                it('chunkDimmed event triggered', function() {\n                    spyOn(view, 'trigger');\n\n                    view.toggleWhitespaceOnlyChunks();\n\n                    expect(view.trigger)\n                        .toHaveBeenCalledWith('chunkDimmed', '0.0');\n                });\n\n                it('Whitespace-only file classes', function() {\n                    const $tbodies = view.$el.children('tbody');\n                    const $whitespaceChunk = $('<tbody/>')\n                            .addClass('whitespace-file')\n                            .hide()\n                            .html('<tr><td></td></tr>')\n                            .appendTo(view.$el);\n\n                    expect($whitespaceChunk.is(':visible')).toBe(false);\n                    expect($tbodies.is(':visible')).toBe(true);\n\n                    view.toggleWhitespaceOnlyChunks();\n\n                    expect($whitespaceChunk.is(':visible')).toBe(true);\n                    expect($tbodies.is(':visible')).toBe(false);\n                });\n            });\n\n            describe('Toggle off', function() {\n                it('Chunk classes', function() {\n                    let $tbodies;\n                    let $tbody;\n                    let $children;\n\n                    view.toggleWhitespaceOnlyChunks();\n                    view.toggleWhitespaceOnlyChunks();\n\n                    $tbodies = view.$('tbody');\n                    $tbody = $($tbodies[0]);\n                    $children = $tbody.children();\n\n                    expect($tbody.hasClass('replace')).toBe(true);\n                    expect($($children[0]).hasClass('first')).toBe(false);\n                    expect($($children[$children.length - 1]).hasClass('last'))\n                        .toBe(false);\n                });\n\n                it('chunkDimmed event triggered', function() {\n                    view.toggleWhitespaceOnlyChunks();\n\n                    spyOn(view, 'trigger');\n\n                    view.toggleWhitespaceOnlyChunks();\n\n                    expect(view.trigger)\n                        .toHaveBeenCalledWith('chunkUndimmed', '0.0');\n                });\n\n                it('Whitespace-only file classes', function() {\n                    const $tbodies = view.$el.children('tbody');\n                    const $whitespaceChunk = $('<tbody/>')\n                            .addClass('whitespace-file')\n                            .html('<tr><td></td></tr>')\n                            .hide()\n                            .appendTo(view.$el);\n\n                    expect($whitespaceChunk.is(':visible')).toBe(false);\n                    expect($tbodies.is(':visible')).toBe(true);\n\n                    view.toggleWhitespaceOnlyChunks();\n                    view.toggleWhitespaceOnlyChunks();\n\n                    expect($whitespaceChunk.is(':visible')).toBe(false);\n                    expect($tbodies.is(':visible')).toBe(true);\n                });\n            });\n        });\n    });\n});\n"],"mappings":"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"}